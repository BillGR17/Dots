;==========================================================
;
;   POLYBAR CONFIG - TOKYO NIGHT STORM EDITION
;
;==========================================================

[colors]
  ; Tokyo Night Storm Palette
  background = "#24283b"
  background-alt = "#292e42"
  foreground = "#c0caf5"
  primary = "#7aa2f7"
  secondary = "#bb9af7"
  alert = "#f7768e"
  disabled = "#565f89"

  green = "#9ece6a"
  yellow = "#e0af68"
  orange = "#ff9e64"
  cyan = "#7dcfff"

[bar/main]
  width = "100%"
  height = 24
  radius = 0

  bottom = true

  background = "${colors.background}"
  foreground = "${colors.foreground}"

  line-size = 3

  border-size = 0
  border-color = "#00000000"

  padding-left = 0
  padding-right = 1

  module-margin = 1

  separator = "|"
  separator-foreground = "${colors.disabled}"

  font-0 = "Monospace:size=10;2"
  modules-left = "i3 xwindow"
  modules-right = "bandwidth memory updates battery uptime layout date audio network power-menu systray"

  cursor-click = "pointer"
  cursor-scroll = "ns-resize"

  enable-ipc = true


;==========================================================
;   MODULES: LEFT (i3 & Window Title)
;==========================================================

[module/i3]
  type = "internal/i3"
  pin-workspaces = true
  show-urgent = true
  strip-wsnumbers = true
  index-sort = true
  enable-click = true
  enable-scroll = false
  wrapping-scroll = false
  reverse-scroll = false
  fuzzy-match = true

  label-mode = "%mode%"
  label-mode-padding = 1
  label-mode-foreground = "#000"
  label-mode-background = "${colors.primary}"
  label-focused = "%index%"
  label-focused-background = "${colors.background-alt}"
  label-focused-underline = "${colors.primary}"
  label-focused-padding = 1
  label-unfocused = "%index%"
  label-unfocused-padding = 1
  label-visible = "%index%"
  label-visible-background = "${colors.background-alt}"
  label-visible-underline = "${colors.disabled}"
  label-visible-padding = 1
  label-urgent = "%index%"
  label-urgent-background = "${colors.alert}"
  label-urgent-padding = 1

[module/xwindow]
  type = "internal/xwindow"
  label = "%title:0:60:...%"
  label-foreground = "${colors.cyan}"

;==========================================================
;   MODULES: RIGHT (System & Custom Scripts)
;==========================================================

[module/bandwidth]
  type = "custom/script"
  exec = "bandwidth"
  format-foreground = "${colors.orange}"
  interval = 1

[module/memory]
  type = "custom/script"
  exec = "memcheck"
  interval = 1
  label = "M: %output%"
  format-foreground = "${colors.secondary}"

[module/updates]
  type = "custom/script"
  exec = "imupdate -cli"
  interval = 600
  label = "P: %output%"
  format-foreground = "${colors.yellow}"
  click-left = "imupdate -cli"
  click-middle = "imupdate"

[module/battery]
  type = "custom/script"
  exec = "battery_check"
  interval = 30
  label = "B: %output%"
  format-foreground = "${colors.green}"

[module/uptime]
  type = "custom/script"
  exec = "dayup"
  interval = 1
  label = "U: %output%"
  format-foreground = "${colors.cyan}"

[module/layout]
  type = "custom/script"
  exec = "xkb_check"
  interval = 1

[module/date]
  type = "internal/date"
  interval = 1
  date = "%I:%M:%S %d/%m/%y"
  label = "%date%"
  label-foreground = "${colors.primary}"

[module/audio]
  type = "internal/pulseaudio"
  use-ui-max = true
  format-volume = "<label-volume>"
  format-volume-prefix = "S: "
  label-volume = "%percentage%%"
  format-muted = "<label-muted>"
  format-muted-prefix = "S: "
  label-muted = "muted"
  click-middle = "pavucontrol"
  label-foreground = "${colors.cyan}"
  format-volume-foreground = "${colors.cyan}"
  format-muted-foreground = "${colors.alert}"

[module/network]
  type = "custom/script"
  exec = "network"
  interval = 1
  click-left = "network -ui"

[module/power-menu]
  type = "custom/text"
  label = "power-menu"
  click-left = "imguipm"
  label-foreground = "${colors.alert}"

[module/systray]
  type = internal/tray
  format-margin = 8pt
  tray-spacing = 16pt
  tray-size = 66%

[settings]
  screenchange-reload = true
  pseudo-transparency = false
